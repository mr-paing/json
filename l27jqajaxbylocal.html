<!DOCTYPE html>
<html>
    <head>
        <title>Jquery Ajax By Local</title>
        <style type="text/css">
            body{
                height: 100vh;

                display: flex;
                justify-content: center;
                align-items: center;
            }

            .container{
                width: 300px;
                background-color: #f4f4f4;
                padding:10px;
            }
        </style>
    </head>
    <body>

        <div class="container">
            <div id="display"></div>
            <button type="button" id="btn">Click Me</button>
        </div>
        
        <script src="https://code.jquery.com/jquery-3.7.1.min.js" type="text/javascript"></script>
        <script type="text/javascript">

        //   // AJAX 
        // //   initialize the HTTP Request 
        // var xmlhttp = new XMLHttpRequest();

        //             // protocol , url ,false
        // xmlhttp.open("GET","./l12sampledata.json",false); //false mean no synchronize
        // xmlhttp.send();

        // if(xmlhttp.readyState === 4 && xmlhttp.status === 200){
        //     // const result = xmlhttp;
        //     // console.log(result);

        //     var result = xmlhttp.responseText;
        //     // console.log(result);
        // }

        // console.log(result);
        // console.log(typeof result);

        // var result = JSON.parse(result);

        // console.log(result);
        // console.log(typeof result);

        // console.log(result.weather[0].main);
        // console.log(result.name);

        // console.log(result["wind"]["speed"]);
        // console.log(result.wind.speed);

        // console.log(result.main.temp);


        // =>fetch()
        //  Syntax 

        // fetch(url)
        // .then(response=>response.json())
        // .then(data)
        // .catch((err)=>console.log(err))

        // var url = `./l12sampledata.json`;
        // fetch(url).then(function(response){
        //     // console.log(response); //Response {type: 'basic', url: 'http://127.0.0.1:5500/l12sampledata.json', redirected: false, status: 200, ok: true, â€¦}
        //     // console.log(response.headers.get('Content-type')); //application/json; charset=UTF-8
        //     return response.json();
        // }).then(function(data){
        //     // console.log(data);
        //     console.log(data.main);
        //     console.log(data.name);
        //     console.log(data.weather[0].main);
        //     console.log(data.wind.speed);

        // }).catch(function(err){
        //     console.log(err);
        // });

            // => Ajax
            // => Syntax 

            // $.ajax({
            //     url:url
            // })done((data)=>{
            //     output
            // }).fail(()=>{
            //     error
            // });


            // var url = `./l12sampledata.json`;

        // method 1
            // $.ajax({
            //     url : url
            // }).done((data)=>{
            //     // console.log(data);
            //     console.log(data.weather[0].main);
            //     console.log(data.name);
            // }).fail(()=>{
            //     console.log("Error");
            // });

        // method 2
            // $.ajax({
            //     method:"GET",
            //     url:url,
            //     dataType:"json", //text
            //     success:successfun
            // });

            // function successfun(data,status,xhr){
            //     console.log(data);
            //     console.log(data.name);

            //     console.log(status);

            //     console.log(xhr);
            //     console.log(xhr.status);
            // }


        // method 3
            // $.ajax({
            //     method:"GET",
            //     url:url,
            //     dataType:"json",
            //     success:(function(data,status,xhr){
            //         console.log(data);
            //         console.log(data.name);

            //         console.log(status);

            //         console.log(xhr);
            //         console.log(xhr.status);
            //     })
            // });


            // jQuery aJax Short Hand
            var url = `./l12sampledata.json`;
  
                $("#btn").click(()=>{
                    $.get(url,output);
                });

                function output(data){
                    console.log(data);
                    console.log(data.name);
                }




            
        </script>
    </body>
</html>
