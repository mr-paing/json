<!DOCTYPE html>
<html>
    <head>
        <title>Joke API From URL 6 with axios</title>
        <style type="text/css">
            body{
                height: 100vh;

                display: flex;
                justify-content: center;
                align-items: center;
            }

            .container{
                width: 300px;
                background-color: #f4f4f4;
                padding:10px;
            }
        </style>
    </head>
    <body>

        <div class="container">
            <div id="display"></div>
            <button type="button" id="btn">Click Me</button>
        </div>
        
        <script src="https://code.jquery.com/jquery-3.7.1.min.js" type="text/javascript"></script>
        <script src="https://unpkg.com/axios/dist/axios.min.js" type="text/javascript"></script>
        <script type="text/javascript">

            var getdisplay = document.getElementById("display");
            var getbtn = document.getElementById('btn');
            getbtn.addEventListener('click',function(){
                loaddata();
            });

// =>fetch
            // function loadata(){
                
            //     var key = `g5fa54rvd2fqijel`;
            //     var url =  `https://api.ipregistry.co/?key=${key}`;

            //     fetch(url).then(function(response){
            //         return response.json();
            //     }).then(function(data){
            //         // console.log(data);
            //         var html = `
            //             <ul>
            //                 <li>External IP =${data.ip} </li>
            //                 <li>Current Device = ${data.user_agent.device.name} / ${data.user_agent.device.type} </li>
            //                 <li>Operating System = ${data.user_agent.os.name} </li>
            //                 <li>Load By = ${data.user_agent.type} </li>
            //                 <li>City = ${data.location.city} </li>
            //                 <li>Local Currency = ${data.currency.code} </li>
            //                 <li>Time Zone = ${data.time_zone.id} </li>
            //             </ul>
            //         `;

            //         getdisplay.innerHTML = html;
            //     }).catch(function(err){
            //         console.log(err);
            //     });

            // }


// =>ajax
            // function loaddata(){
            //     var key = `g5fa54rvd2fqijel`;
            //     var url =  `https://api.ipregistry.co/?key=${key}`;

            //     $.ajax({
            //         method:"GET",
            //         url:url,
            //         dataType:"json"
            //     }).done((data)=>{
            //         // console.log(data);
            //         var html = `
            //             <ul>
            //                 <li>External IP =${data.ip} </li>
            //                 <li>Current Device = ${data.user_agent.device.name} / ${data.user_agent.device.type} </li>
            //                 <li>Operating System = ${data.user_agent.os.name} </li>
            //                 <li>Load By = ${data.user_agent.type} </li>
            //                 <li>City = ${data.location.city} </li>
            //                 <li>Local Currency = ${data.currency.code} </li>
            //                 <li>Time Zone = ${data.time_zone.id} </li>
            //             </ul>
            //         `;

            //         getdisplay.innerHTML = html;
                    
            //     }).fail(()=>{
            //         console.log(error);
            //     });
            // }


// =>axios
            function loaddata(){
                var key = `g5fa54rvd2fqijel`;
                var url =  `https://api.ipregistry.co/?key=${key}`;

                axios.get(url).then((response)=>{
                    console.log(response);

                    var html = `
                        <ul>
                            <li>External IP = ${response.data.ip} </li>
                            <li>Current Device = ${response.data.user_agent.device.name} / ${response.data.user_agent.device.type} </li>
                            <li>Operating System = ${response.data.user_agent.name} </li>
                            <li>Load By = ${response.data.user_agent.type} </li>
                            <li>City = ${response.data.location.city} </li>
                            <li>Local Currency = ${response.data.currency.code} </li>
                            <li>Time Zone = ${response.data.time_zone.id} </li>
                        </ul>
                    `;

                    getdisplay.innerHTML = html;
                }).catch((err)=>{
                    console.log(err);
                });
            }

        </script>
    </body>
</html>

<!-- https://dummyjson.com/ -->


