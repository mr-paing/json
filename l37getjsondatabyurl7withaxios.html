<!DOCTYPE html>
<html>
    <head>
        <title>SpaceXdata API From URL 6 with AXIOS</title>
        <style type="text/css">
            body{
                height: 100vh;

                display: flex;
                justify-content: center;
                align-items: center;
            }

            .container{
                width: 300px;
                background-color: #f4f4f4;
                padding:10px;
            }
        </style>
    </head>
    <body>

        <div class="container">
            <div id="display"></div>
            <button type="button" id="btn">Load Data</button>
        </div>

        
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
        <script src="https://code.jquery.com/jquery-3.7.1.min.js" type="text/javascript"></script>
        <script type="text/javascript">
            var getbtn = document.getElementById('btn');
            var getdisplay = document.getElementById('display');
            
            getbtn.addEventListener('click',function(){
                loaddata();

                // var url = `https://api.spacexdata.com/v3/launches?`;
                // // $.get(url,loaddata);
                // $.getJSON(url,loaddata);
            });

// =>xmlhttp 
            // function loaddata(){
            //     var xmlhttp = new XMLHttpRequest;
            //     var url = `https://api.spacexdata.com/v3/launches?`;

            //     xmlhttp.onreadystatechange = function(){
            //         var html;
            //         if(xmlhttp.readyState === 4 && xmlhttp.status === 200){
            //             var result = xmlhttp.responseText;
            //             result =  JSON.parse(result);
            //             // console.log(result);

            //             result.forEach(function(val,idx){
            //                 // console.log(val); //value
            //                 // console.log(idx); //idx
            //                 // console.log(result[idx]); //value

            //                 // html += `
            //                 //     <ul>
            //                 //         <li>Flight Number = ${val.flight_number} </li>
            //                 //         <li> Mission Name = ${val.mission_name} </li>
            //                 //         <li> Launch Year = ${val.launch_year} </li>
            //                 //     </ul>
            //                 // `;


            //                 html += `
            //                     <ul>
            //                         <li>Flight Number = ${result[idx].flight_number} </li>
            //                         <li> Mission Name = ${result[idx].mission_name} </li>
            //                         <li> Launch Year = ${result[idx].launch_year} </li>
            //                     </ul>
            //                 `;

                        
            //             });

            //             getdisplay.innerHTML = html;

            //         }

                    
            //     }

            //     xmlhttp.onprogress = function(){
            //         console.log(xmlhttp.readyState,xmlhttp.status);
            //     }

            //     xmlhttp.onload = function(){
            //         console.log(xmlhttp.readyState,xmlhttp.status);
            //     }

            //     xmlhttp.open("GET",url,true);
            //     xmlhttp.send();
            // }


// =>fetch 

            // function loaddata(){
            //     var url = `https://api.spacexdata.com/v3/launches?`;
            //     let html;

            //     fetch(url).then(function(response){
            //         return response.json();
            //     }).then(function(data){
            //         // console.log(data);

            // // =>looping by js
            //         // data.forEach(function(val,idx){
            //         //     // console.log(val); //value
            //         //     // console.log(idx); //index

            //         // //     html += `
            //         // //     <ul>
            //         // //         <li>Flight Number = ${val.flight_number} </li>
            //         // //         <li> Mission Name = ${val.mission_name} </li>
            //         // //         <li> Launch Year = ${val.launch_year} </li>
            //         // //     </ul>
            //         // // `;


            //         //         html += `
            //         //             <ul>
            //         //                 <li>Flight Number = ${data[idx].flight_number} </li>
            //         //                 <li> Mission Name = ${data[idx].mission_name} </li>
            //         //                 <li> Launch Year = ${data[idx].launch_year} </li>
            //         //             </ul>
            //         //         `;

            //         // getdisplay.innerHTML = html;

            //         // });

            // // =>looping by jQuery 
            //         $.each(data,function(idx,val){
            //         // html += `
            //         //     <ul>
            //         //         <li>Flight Number = ${val.flight_number} </li>
            //         //         <li> Mission Name = ${val.mission_name} </li>
            //         //         <li> Launch Year = ${val.launch_year} </li>
            //         //     </ul>
            //         // `;

            //             html += `
            //                     <ul>
            //                         <li>Flight Number = ${data[idx].flight_number} </li>
            //                         <li> Mission Name = ${data[idx].mission_name} </li>
            //                         <li> Launch Year = ${data[idx].launch_year} </li>
            //                     </ul>
            //                 `;

            //         getdisplay.innerHTML = html;

            //         });
            //     }).catch(function(err){
            //         console.log(err);
            //     });
            // }

// => ajax
                // function loaddata(){
                //     var url = `https://api.spacexdata.com/v3/launches?`;
                //     let html;
                //     $.ajax({
                //         method : "GET",
                //         url : url,
                //         dataType : "json"
                //     }).done(function(data,status,state){

                // // looping by js
                //         // data.forEach(function(val,idx){
                //         //     // html += `
                //         //     //     <ul>
                //         //     //         <li>Flight Number = ${val.flight_number} </li>
                //         //     //         <li> Mission Name = ${val.mission_name} </li>
                //         //     //         <li> Launch Year = ${val.launch_year} </li>
                //         //     //     </ul>
                //         //     // `;

                //         //         html += `
                //         //             <ul>
                //         //                 <li>Flight Number = ${data[idx].flight_number} </li>
                //         //                 <li> Mission Name = ${data[idx].mission_name} </li>
                //         //                 <li> Launch Year = ${data[idx].launch_year} </li>
                //         //             </ul>
                //         //         `;
                //         //     getdisplay.innerHTML = html;
                //         // });

                // // looping by jQuery 
                //             $.each(data,function(idx,val){
                //                 // html += `
                //                 //     <ul>
                //                 //         <li>Flight Number = ${val.flight_number} </li>
                //                 //         <li> Mission Name = ${val.mission_name} </li>
                //                 //         <li> Launch Year = ${val.launch_year} </li>
                //                 //     </ul>
                //                 // `;

                //                     html += `
                //                         <ul>
                //                             <li>Flight Number = ${data[idx].flight_number} </li>
                //                             <li> Mission Name = ${data[idx].mission_name} </li>
                //                             <li> Launch Year = ${data[idx].launch_year} </li>
                //                         </ul>
                //                     `;

                //                 getdisplay.innerHTML = html;
                //             });
                            
                //     });
                // }

                
                // function loaddata(data){
                //     let html;
                //     // console.log(data);
                //     data.forEach(function(val,idx){
                //         // html += `
                //         //     <ul>
                //         //         <li>Flight Number = ${val.flight_number} </li>
                //         //         <li> Mission Name = ${val.mission_name} </li>
                //         //         <li> Launch Year = ${val.launch_year} </li>
                //         //     </ul>
                //         // `;

                //         html += `
                //             <ul>
                //                 <li>Flight Number = ${data[idx].flight_number} </li>
                //                 <li> Mission Name = ${data[idx].mission_name} </li>
                //                 <li> Launch Year = ${data[idx].launch_year} </li>
                //             </ul>
                //         `;

                //         getdisplay.innerHTML = html;
                //     });
                // }


// =>axios

                function loaddata(){
                    var url = `https://api.spacexdata.com/v3/launches?`;
                    let html;

                    // axios.get(url).then(function(response){
                    //     // console.log(response.data);
                    //     response.data.forEach((val,idx)=>{
                    //         // html += `
                    //         //     <ul>
                    //         //         <li>Flight Number = ${val.flight_number} </li>
                    //         //         <li> Mission Name = ${val.mission_name} </li>
                    //         //         <li> Launch Year = ${val.launch_year} </li>
                    //         //     </ul>
                    //         // `;

                    //         html += `
                    //             <ul>
                    //                 <li>Flight Number = ${response.data[idx].flight_number} </li>
                    //                 <li> Mission Name = ${response.data[idx].mission_name} </li>
                    //                 <li> Launch Year = ${response.data[idx].launch_year} </li>
                    //             </ul>
                    //         `;

                    //         getdisplay.innerHTML = html;
                    //     });
                    // }).catch(function(err){
                    //     console.log(err);
                    // });


                    axios({
                        method : "GET",
                        url : url
                    }).then((response)=>{
                        // console.log(response.data);
                        $.each(response.data,function(idx,val){
                            //     html += `
                            //     <ul>
                            //         <li>Flight Number = ${val.flight_number} </li>
                            //         <li> Mission Name = ${val.mission_name} </li>
                            //         <li> Launch Year = ${val.launch_year} </li>
                            //     </ul>
                            // `; 

                            html += `
                                <ul>
                                    <li>Flight Number = ${response.data[idx].flight_number} </li>
                                    <li> Mission Name = ${response.data[idx].mission_name} </li>
                                    <li> Launch Year = ${response.data[idx].launch_year} </li>
                                </ul>
                            `;

                            getdisplay.innerHTML = html;
                        });
                    }).catch((err)=>{
                        console.log(err);
                    });
                }

        </script>
    </body>
</html>

<!-- chucknorris.io -->
